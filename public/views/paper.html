

<!DOCTYPE html>
<html lang="en">

  <head>
    <title>Bingo</title>
    <meta charset="utf-8"/>
    <style type="text/css">

    </style>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>



<script type="text/javascript">

    let identifier = -1;

    let NUM_ROWS_CAGE = 5;
    let NUM_COLUMNS_CAGE = 15;
    let NUM_VALUES_PER_ROW = NUM_COLUMNS_CAGE;
    
    
    let numBalls = NUM_VALUES_PER_ROW*NUM_ROWS_CAGE;
    let cageReverse = [];
    let mostRecentBall = -1;

    let howMany = 1;
    let numbers=[];

    let NUM_ROWS_CARD = 5;
    let NUM_COLUMNS_CARD = 5;
 
    let board = null;

    let winner = 0;
    let tooLateToPlay = false;

    let xpixel;
    let ypixel;

    let gameType = 1;
    let numActivePlayers = 0;

polling();
function polling() {
    if (identifier != -1) {
        $.get("/player2",{index:3,identifier:identifier},successInfo);
    }
    let numMilliSeconds = 1000;   // 1000 milliseconds = 1 second
    setTimeout(polling, numMilliSeconds);
}



function Create2DArray(rows) {
  var arr = [];

  for (var i=0;i<rows;i++) {
     arr[i] = [];
  }

  return arr;
}



window.addEventListener('load', eventWindowLoaded, false);

function eventWindowLoaded() {
   canvasApp();
}


function canvasApp(){

    var theCanvas = document.getElementById("canvas");
    theCanvas.addEventListener("mousemove",onMouseMove,false);
    theCanvas.addEventListener("click",onMouseClick,false);

    if (!theCanvas || !theCanvas.getContext) {
        return;
    }


    var context = theCanvas.getContext("2d");

    if (!context) {
        return;
    }

   //canvasApp level variables
    var keyPressList = [];
    var windowWidth = 700;
    var windowHeight = 800;
    var mouseX = 0;
    var mouseY = 0;

    reset();

    gameLoop();

///////////////////////////////////////////////////////
    function gameLoop()
    {
        var FRAME_RATE = 10;
        var intervalTime = 1000/FRAME_RATE;

        input();
        paint();
        animate();
        window.setTimeout(gameLoop, intervalTime);
    }

    document.onkeydown = function(e){
        e = e?e:window.event;
        keyPressList[e.keyCode] = true;
    }

    document.onkeyup = function(e){
        e = e?e:window.event;
        keyPressList[e.keyCode] = false;
    };

///////////////////////////////////////////////////////
    function onMouseMove(e)
    {

    }
    function onMouseClick(e)
    {
      if (winner == -3)
        return;
//These need to be modified when changes are made to location of canvas!!!!!!        
        xpixel = e.clientX - 8;
        ypixel = e.clientY - 250;
        Select(xpixel,ypixel);
    }
    function input()
    {
// Tab:9 Enter:13 Space:32 0:48 A:65 a:97 Delete:127
        if (keyPressList[27]==true){
        //Escape

        }

        if (keyPressList[37]==true) {
        //Left arrow
        }

        if (keyPressList[38]==true) {
        //Up arrow
        }

        if (keyPressList[39]==true) {
        //Right arrow
        }
        if (keyPressList[40]==true) {
        //Down arrow
        }
    }

    function paint()
    {
// draw background
        context.fillStyle = '#ffffff';
        context.fillRect(0, 0, getWidth2(), getHeight2());
        context.strokeStyle = '#000000';
        context.strokeRect(0, 0, getWidth2(), getHeight2());

//horizontal lines
        context.save(); //save current state in stack
        context.setTransform(1,0,0,1,0,0);




/////////////////        
//Draw Card        
        let height = Math.floor(getHeight2()*2/6);
        let width = Math.floor(getWidth2()*2/5);
        
        let ydelta = Math.floor(height/NUM_ROWS_CARD);
        let xdelta = Math.floor(width/NUM_COLUMNS_CARD);

        let xoffset = 20;
        let yoffset = Math.floor(getHeight2()/8);
//Draw the grid.        

        context.fillStyle = "rgb(0,0,0)"; 
        context.strokeStyle = '#000000'; 
        
////////
         gameType = 1;
//Draw the win squares depending on the game type.        
        if (gameType == 2) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.closePath();             
        }
        else if (gameType == 3) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

/*
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
*/

            context.closePath();             
        }        
        else if (gameType == 4) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);


/*
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
*/

            context.closePath();             
        }      
        else if (gameType == 5) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);



            context.closePath(); 
        }

           
//Draw the card numbers.          
        count = 1;
        rowLoc = ydelta-3;
        for (let col=0;col<NUM_COLUMNS_CARD;col++) {
            let colLoc = 4;
            for (let row=0;row<NUM_ROWS_CARD;row++) {

                if (row == Math.floor(NUM_ROWS_CARD/2) && col == Math.floor(NUM_COLUMNS_CARD/2)) {
                    context.fillStyle = "rgb(160,160,160)";
                    context.beginPath();
                    context.fillRect(getX(xoffset)+col*xdelta, getY(yoffset)+row*ydelta, xdelta, ydelta);
                    context.closePath(); 
                }
                else 
                {
                    if (board != null) {
                        context.beginPath();
                        context.fillStyle = "rgb(0,0,0)";
                        context.strokeStyle = '#000000';
                        context.font = (ydelta-10) + 'px Arial';
                        context.textBaseline = 'bottom';
          
                        context.fillText  ("" + board[col][row],getX(xoffset)+colLoc ,getY(yoffset)+rowLoc);
                        context.closePath();
                    }
                }
                count++;
                colLoc += xdelta;
            }
            rowLoc += ydelta;
        }        
  

//Draw the card grid.
        context.fillStyle = "rgb(0,0,0)"; 
        context.strokeStyle = '#000000';
             
        for (let zi = 0;zi<NUM_ROWS_CARD+1;zi++)
        {
            context.beginPath();
            context.moveTo(getX(xoffset)+0,getY(yoffset)+zi*ydelta);
            context.lineTo(getX(xoffset)+width,getY(yoffset)+zi*ydelta);
            context.stroke();
            context.closePath();             
        }
        
        for (let zi = 0;zi<NUM_COLUMNS_CARD+1;zi++)
        {
            context.beginPath();
            context.moveTo(getX(xoffset)+zi*xdelta,getY(yoffset)+0);
            context.lineTo(getX(xoffset)+zi*xdelta,getY(yoffset)+height);
            context.stroke();
            context.closePath();             
        }

//Draw the BINGO lettering.
        let bingoLetters = ["B","I","N","G","O"];
        let colLoc = 4;
        for (let col=0;col<NUM_COLUMNS_CARD;col++) {
          context.beginPath();
          context.fillStyle = "rgb(0,0,0)";
          context.strokeStyle = '#000000';
          context.font = (ydelta-30) + 'px Arial';
          context.textBaseline = 'bottom';
          
        context.fillText  (bingoLetters[col],getX(xoffset)+colLoc ,getY(yoffset));
          context.closePath();                        
            colLoc += xdelta;
        }        
        
//Draw the name of the bingo game.        
        context.beginPath();
        context.fillStyle = "rgb(0,0,0)";
        context.strokeStyle = '#000000';
        context.font = (ydelta-40) + 'px Arial';
        context.textBaseline = 'bottom';        
        if (gameType == 1) {
          context.fillText  ("Regular Bingo",getX(xoffset),getY(yoffset-30));
        }
        else if (gameType == 2) {
          context.fillText  ("4 Corners Bingo",getX(xoffset),getY(yoffset-30));             
        }
        else if (gameType == 3) {
          context.fillText  ("Tiger Bingo",getX(xoffset) ,getY(yoffset-30));             
        }
        else if (gameType == 4) {
          context.fillText  ("2022 Bingo",getX(xoffset) ,getY(yoffset-30));            
        }
        else if (gameType == 5) {
          context.fillText  ("Chun Hoon Bingo",getX(xoffset) ,getY(yoffset-30));
        }
        context.closePath();               
//00000000000000000000000000000000000000000000000000


/////////////////        
//Draw Card        
        height = Math.floor(getHeight2()*2/6);
        width = Math.floor(getWidth2()*2/5);
        
        ydelta = Math.floor(height/NUM_ROWS_CARD);
        xdelta = Math.floor(width/NUM_COLUMNS_CARD);

        xoffset = 7*xdelta;
        yoffset = Math.floor(getHeight2()/8);
//Draw the grid.        

        context.fillStyle = "rgb(0,0,0)"; 
        context.strokeStyle = '#000000'; 
        
////////
         gameType = 5;
//Draw the win squares depending on the game type.        
        if (gameType == 2) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.closePath();             
        }
        else if (gameType == 3) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();


            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

/*
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
*/

            context.closePath();             
        }        
        else if (gameType == 4) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);


/*
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
*/

            context.closePath();             
        }      
        else if (gameType == 5) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);



            context.closePath(); 
        }

           
//Draw the card numbers.          
        count = 1;
        rowLoc = ydelta-3;
        for (let col=0;col<NUM_COLUMNS_CARD;col++) {
            let colLoc = 4;
            for (let row=0;row<NUM_ROWS_CARD;row++) {

                if (row == Math.floor(NUM_ROWS_CARD/2) && col == Math.floor(NUM_COLUMNS_CARD/2)) {
                    context.fillStyle = "rgb(160,160,160)";
                    context.beginPath();
                    context.fillRect(getX(xoffset)+col*xdelta, getY(yoffset)+row*ydelta, xdelta, ydelta);
                    context.closePath(); 
                }
                else 
                {
                    if (board != null) {
                        context.beginPath();
                        context.fillStyle = "rgb(0,0,0)";
                        context.strokeStyle = '#000000';
                        context.font = (ydelta-10) + 'px Arial';
                        context.textBaseline = 'bottom';
          
                        context.fillText  ("" + board[col][row],getX(xoffset)+colLoc ,getY(yoffset)+rowLoc);
                        context.closePath();
                    }
                }
                count++;
                colLoc += xdelta;
            }
            rowLoc += ydelta;
        }        
  

//Draw the card grid.
        context.fillStyle = "rgb(0,0,0)"; 
        context.strokeStyle = '#000000';
             
        for (let zi = 0;zi<NUM_ROWS_CARD+1;zi++)
        {
            context.beginPath();
            context.moveTo(getX(xoffset)+0,getY(yoffset)+zi*ydelta);
            context.lineTo(getX(xoffset)+width,getY(yoffset)+zi*ydelta);
            context.stroke();
            context.closePath();             
        }
        
        for (let zi = 0;zi<NUM_COLUMNS_CARD+1;zi++)
        {
            context.beginPath();
            context.moveTo(getX(xoffset)+zi*xdelta,getY(yoffset)+0);
            context.lineTo(getX(xoffset)+zi*xdelta,getY(yoffset)+height);
            context.stroke();
            context.closePath();             
        }

//Draw the BINGO lettering.
//        let bingoLetters = ["B","I","N","G","O"];
        colLoc = 4;
        for (let col=0;col<NUM_COLUMNS_CARD;col++) {
          context.beginPath();
          context.fillStyle = "rgb(0,0,0)";
          context.strokeStyle = '#000000';
          context.font = (ydelta-30) + 'px Arial';
          context.textBaseline = 'bottom';
          
        context.fillText  (bingoLetters[col],getX(xoffset)+colLoc ,getY(yoffset));
          context.closePath();                        
            colLoc += xdelta;
        }        
        
//Draw the name of the bingo game.        
        context.beginPath();
        context.fillStyle = "rgb(0,0,0)";
        context.strokeStyle = '#000000';
        context.font = (ydelta-40) + 'px Arial';
        context.textBaseline = 'bottom';        
        if (gameType == 1) {
          context.fillText  ("Regular Bingo",getX(xoffset),getY(yoffset-30));
        }
        else if (gameType == 2) {
          context.fillText  ("4 Corners Bingo",getX(xoffset),getY(yoffset-30));             
        }
        else if (gameType == 3) {
          context.fillText  ("Tiger Bingo",getX(xoffset) ,getY(yoffset-30));             
        }
        else if (gameType == 4) {
          context.fillText  ("2022 Bingo",getX(xoffset) ,getY(yoffset-30));            
        }
        else if (gameType == 5) {
          context.fillText  ("Chun Hoon Bingo",getX(xoffset) ,getY(yoffset-30));
        }
        context.closePath();               

//00000000000000000000000000000000000000000000000000




/////////////////        
//Draw Card        
        height = Math.floor(getHeight2()*2/6);
        width = Math.floor(getWidth2()*2/5);
        
        ydelta = Math.floor(height/NUM_ROWS_CARD);
        xdelta = Math.floor(width/NUM_COLUMNS_CARD);

        xoffset = 20;
        yoffset = Math.floor(getHeight2()*5/9);
//Draw the grid.        

        context.fillStyle = "rgb(0,0,0)"; 
        context.strokeStyle = '#000000'; 
        
////////
         gameType = 3;
//Draw the win squares depending on the game type.        
        if (gameType == 2) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.closePath();             
        }
        else if (gameType == 3) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

/*
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
*/

            context.closePath();             
        }        
        else if (gameType == 4) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);


/*
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
*/

            context.closePath();             
        }      
        else if (gameType == 5) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);



            context.closePath(); 
        }

           
//Draw the card numbers.          
        count = 1;
        rowLoc = ydelta-3;
        for (let col=0;col<NUM_COLUMNS_CARD;col++) {
            let colLoc = 4;
            for (let row=0;row<NUM_ROWS_CARD;row++) {

                if (row == Math.floor(NUM_ROWS_CARD/2) && col == Math.floor(NUM_COLUMNS_CARD/2)) {
                    context.fillStyle = "rgb(160,160,160)";
                    context.beginPath();
                    context.fillRect(getX(xoffset)+col*xdelta, getY(yoffset)+row*ydelta, xdelta, ydelta);
                    context.closePath(); 
                }
                else 
                {
                    if (board != null) {
                        context.beginPath();
                        context.fillStyle = "rgb(0,0,0)";
                        context.strokeStyle = '#000000';
                        context.font = (ydelta-10) + 'px Arial';
                        context.textBaseline = 'bottom';
          
                        context.fillText  ("" + board[col][row],getX(xoffset)+colLoc ,getY(yoffset)+rowLoc);
                        context.closePath();
                    }
                }
                count++;
                colLoc += xdelta;
            }
            rowLoc += ydelta;
        }        
  

//Draw the card grid.
        context.fillStyle = "rgb(0,0,0)"; 
        context.strokeStyle = '#000000';
             
        for (let zi = 0;zi<NUM_ROWS_CARD+1;zi++)
        {
            context.beginPath();
            context.moveTo(getX(xoffset)+0,getY(yoffset)+zi*ydelta);
            context.lineTo(getX(xoffset)+width,getY(yoffset)+zi*ydelta);
            context.stroke();
            context.closePath();             
        }
        
        for (let zi = 0;zi<NUM_COLUMNS_CARD+1;zi++)
        {
            context.beginPath();
            context.moveTo(getX(xoffset)+zi*xdelta,getY(yoffset)+0);
            context.lineTo(getX(xoffset)+zi*xdelta,getY(yoffset)+height);
            context.stroke();
            context.closePath();             
        }

//Draw the BINGO lettering.
        bingoLetters = ["B","I","N","G","O"];
        colLoc = 4;
        for (let col=0;col<NUM_COLUMNS_CARD;col++) {
          context.beginPath();
          context.fillStyle = "rgb(0,0,0)";
          context.strokeStyle = '#000000';
          context.font = (ydelta-30) + 'px Arial';
          context.textBaseline = 'bottom';
          
        context.fillText  (bingoLetters[col],getX(xoffset)+colLoc ,getY(yoffset));
          context.closePath();                        
            colLoc += xdelta;
        }        
        
//Draw the name of the bingo game.        
        context.beginPath();
        context.fillStyle = "rgb(0,0,0)";
        context.strokeStyle = '#000000';
        context.font = (ydelta-40) + 'px Arial';
        context.textBaseline = 'bottom';        
        if (gameType == 1) {
          context.fillText  ("Regular Bingo",getX(xoffset),getY(yoffset-30));
        }
        else if (gameType == 2) {
          context.fillText  ("4 Corners Bingo",getX(xoffset),getY(yoffset-30));             
        }
        else if (gameType == 3) {
          context.fillText  ("Tiger Bingo",getX(xoffset) ,getY(yoffset-30));             
        }
        else if (gameType == 4) {
          context.fillText  ("2022 Bingo",getX(xoffset) ,getY(yoffset-30));            
        }
        else if (gameType == 5) {
          context.fillText  ("Chun Hoon Bingo",getX(xoffset) ,getY(yoffset-30));
        }
        context.closePath();               





//00000000000000000000000000000000000000000000000000




/////////////////        
//Draw Card        
        height = Math.floor(getHeight2()*2/6);
        width = Math.floor(getWidth2()*2/5);
        
        ydelta = Math.floor(height/NUM_ROWS_CARD);
        xdelta = Math.floor(width/NUM_COLUMNS_CARD);

        xoffset = 7*xdelta;
        yoffset = Math.floor(getHeight2()*5/9);
//Draw the grid.        

        context.fillStyle = "rgb(0,0,0)"; 
        context.strokeStyle = '#000000'; 
        
////////
         gameType = 2;
//Draw the win squares depending on the game type.        
        if (gameType == 2) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.closePath();             
        }
        else if (gameType == 3) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

/*
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
*/

            context.closePath();             
        }        
        else if (gameType == 4) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);


/*
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
*/

            context.closePath();             
        }      
        else if (gameType == 5) {
            context.fillStyle = "rgb(160,160,160)";
            context.beginPath();
            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+0*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+1*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+0*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+1*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+2*ydelta, xdelta, ydelta);


            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+3*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+3*ydelta, xdelta, ydelta);

            context.fillRect(getX(xoffset)+2*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);
            context.fillRect(getX(xoffset)+4*xdelta, getY(yoffset)+4*ydelta, xdelta, ydelta);



            context.closePath(); 
        }

           
//Draw the card numbers.          
        count = 1;
        rowLoc = ydelta-3;
        for (let col=0;col<NUM_COLUMNS_CARD;col++) {
            let colLoc = 4;
            for (let row=0;row<NUM_ROWS_CARD;row++) {

                if (row == Math.floor(NUM_ROWS_CARD/2) && col == Math.floor(NUM_COLUMNS_CARD/2)) {
                    context.fillStyle = "rgb(160,160,160)";
                    context.beginPath();
                    context.fillRect(getX(xoffset)+col*xdelta, getY(yoffset)+row*ydelta, xdelta, ydelta);
                    context.closePath(); 
                }
                else 
                {
                    if (board != null) {
                        context.beginPath();
                        context.fillStyle = "rgb(0,0,0)";
                        context.strokeStyle = '#000000';
                        context.font = (ydelta-10) + 'px Arial';
                        context.textBaseline = 'bottom';
          
                        context.fillText  ("" + board[col][row],getX(xoffset)+colLoc ,getY(yoffset)+rowLoc);
                        context.closePath();
                    }
                }
                count++;
                colLoc += xdelta;
            }
            rowLoc += ydelta;
        }        
  

//Draw the card grid.
        context.fillStyle = "rgb(0,0,0)"; 
        context.strokeStyle = '#000000';
             
        for (let zi = 0;zi<NUM_ROWS_CARD+1;zi++)
        {
            context.beginPath();
            context.moveTo(getX(xoffset)+0,getY(yoffset)+zi*ydelta);
            context.lineTo(getX(xoffset)+width,getY(yoffset)+zi*ydelta);
            context.stroke();
            context.closePath();             
        }
        
        for (let zi = 0;zi<NUM_COLUMNS_CARD+1;zi++)
        {
            context.beginPath();
            context.moveTo(getX(xoffset)+zi*xdelta,getY(yoffset)+0);
            context.lineTo(getX(xoffset)+zi*xdelta,getY(yoffset)+height);
            context.stroke();
            context.closePath();             
        }

//Draw the BINGO lettering.
        bingoLetters = ["B","I","N","G","O"];
        colLoc = 4;
        for (let col=0;col<NUM_COLUMNS_CARD;col++) {
          context.beginPath();
          context.fillStyle = "rgb(0,0,0)";
          context.strokeStyle = '#000000';
          context.font = (ydelta-30) + 'px Arial';
          context.textBaseline = 'bottom';
          
        context.fillText  (bingoLetters[col],getX(xoffset)+colLoc ,getY(yoffset));
          context.closePath();                        
            colLoc += xdelta;
        }        
        
//Draw the name of the bingo game.        
        context.beginPath();
        context.fillStyle = "rgb(0,0,0)";
        context.strokeStyle = '#000000';
        context.font = (ydelta-40) + 'px Arial';
        context.textBaseline = 'bottom';        
        if (gameType == 1) {
          context.fillText  ("Regular Bingo",getX(xoffset),getY(yoffset-30));
        }
        else if (gameType == 2) {
          context.fillText  ("4 Corners Bingo",getX(xoffset),getY(yoffset-30));             
        }
        else if (gameType == 3) {
          context.fillText  ("Tiger Bingo",getX(xoffset) ,getY(yoffset-30));             
        }
        else if (gameType == 4) {
          context.fillText  ("2022 Bingo",getX(xoffset) ,getY(yoffset-30));            
        }
        else if (gameType == 5) {
          context.fillText  ("Chun Hoon Bingo",getX(xoffset) ,getY(yoffset-30));
        }
        context.closePath();               









//11111111111111111111111111111111111111111111111111111111

//Draw the card number.
          context.beginPath();
          context.fillStyle = "rgb(0,0,0)";
          context.strokeStyle = '#000000';
          context.font = (ydelta-40) + 'px Arial';
          context.textBaseline = 'bottom';

context.fillText  ("CARD: " + identifier,getX(10) ,getY(30));       
          context.closePath();  

        context.restore(); 
    }

    function reset()
    {
    }
    function animate()
    {

    }


////////////////////////////////////////////////////////
    function getX(x)
    {
        return(x);
    }
    function getY(y)
    {
        return(y);
    }
    function getYNormal(y)
    {
        return(windowHeight-y);
    }
    function getWidth2()
    {
        return(windowWidth);
    }
    function getHeight2()
    {
        return(windowHeight);
    }
}

</script>



  </head>
  
  <body> 
<canvas id="canvas" width="700" height="800"  style="position:absolute;top: 10px; left: 8px;">
 Your browser does not support HTML5 Canvas.
</canvas>

<script type="text/javascript">


function successInfo(data) { 
	if (!data)
		return;    //error

  if (data.val == 1) {
      if (!data.playValid) {
//too late to start playing.        
          tooLateToPlay = true;
          winner = -3;
      }

//create card numbers.  Should only be once.            
      identifier = data.identifier;

      board = Create2DArray(NUM_ROWS_CARD*NUM_COLUMNS_CARD);

      for (let row = 0;row < NUM_ROWS_CARD;row++) {
          for (let col = 0;col < NUM_COLUMNS_CARD;col++) {
              board[row][col] = data.board[row][col];
          }
      }
  }
     
  else if (data.val == 3) {
//polling to get the winner name.
       

//polling to get the mostRecentBall chosen. 

//temp comment out below
  //    if (data.ballNum != undefined && data.ballNum != -1) {
  //        mostRecentBall = data.ballNum;
  //        cageReverse[data.ballNum-1] = 1;
  //    }
      gameType = data.gameType;
  }        
  else if (data.val == 4) {
//polling to reset.     
      gameType = data.gameType;
      tooLateToPlay = false;       
  }  
  else if (data.val == 5) {
//a new message was sent to the server.
  }
}

$(document).ready(function(){   

    $.get("/player2",{index:1,identifier:identifier},successInfo);

  	$("#message").keydown( function( event ) {
  		if ( event.which === 13 ) {


  			// Disable sending the related form
  			event.preventDefault();
  			return false;
  		}
  	});


});  

polling2();
function polling2() {
    $.get("/player2",{index:30},successInfo);
    let numMilliSeconds = 1000;   // 1000 milliseconds = 1 second
    setTimeout(polling2, numMilliSeconds);
}


</script>

  </body>
</html>  
  


 
